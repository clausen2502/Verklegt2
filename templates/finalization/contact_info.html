{% extends "base.html" %}
{% block title %}Finalize Purchase Offer - Contact Info{% endblock %}

{% block content %}
  {% include 'finalization/stepper.html' %}

  <main>
    <h1 class="finalize-title">Finalize Purchase Offer</h1>

    <section class="finalize-box">
      <h2>Contact Information</h2>
      <form method="post">
        {% csrf_token %}
        <input type="hidden" name="offer_id" value="{{ offer_id }}">

        <fieldset>
          <legend>Address</legend>

          <div class="form-group">
            <label for="street_name">Street name:</label>
            <input type="text" id="street_name" name="street_name" value="{{ form.street_name.value|stringformat:'s' }}" required>
            {% for error in form.street_name.errors %}
              <div class="text-danger small">{{ error }}</div>
            {% endfor %}
          </div>

          <div class="form-group">
            <label for="city">City:</label>
            <input type="text" id="city" name="city" value="{{ form.city.value|stringformat:'s' }}" required>
            {% for error in form.city.errors %}
              <div class="text-danger small">{{ error }}</div>
            {% endfor %}
          </div>

          <div class="form-group">
            <label for="postal_code">Postal Code:</label>
            <input type="text" id="postal_code" name="postal_code" value="{{ form.postal_code.value|stringformat:'s' }}" required>
            {% for error in form.postal_code.errors %}
              <div class="text-danger small">{{ error }}</div>
            {% endfor %}
          </div>

          <div class="form-group">
            <label for="country">Country:</label>
            <select id="country" name="country" required>
              <option value="">-- Select a Country --</option>
              {% for country in countries %}
                <option value="{{ country }}" {% if form.country.value == country %}selected{% endif %}>{{ country }}</option>
              {% endfor %}
            </select>
            {% for error in form.country.errors %}
              <div class="text-danger small">{{ error }}</div>
            {% endfor %}
          </div>
        </fieldset>

        <fieldset>
          <legend>Identification</legend>
          <div class="form-group">
            <label for="kennitala">National ID:</label>
            <input type="text" id="kennitala" name="kennitala" value="{{ form.kennitala.value|stringformat:'s' }}" required>
            {% for error in form.kennitala.errors %}
              <div class="text-danger small">{{ error }}</div>
            {% endfor %}
          </div>
        </fieldset>

        <button type="submit">Next: Payment</button>
      </form>
    </section>
  </main>
{% endblock %}


