{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container mt-5">
  <h2 class="mb-4 text-center text-pink fw-bold">Your Purchase Offers</h2>

  {% if offers %}
    <div class="row g-4">
      {% for offer in offers %}
        <div class="col-md-6 col-lg-4">
          <div class="card offer-card h-100 shadow-sm">
            <div class="card-body">
              <h5 class="card-title text-primary fw-bold">
                {{ offer.property.street_name }}, {{ offer.property.city }}
              </h5>
              <p class="mb-1"><strong>Amount:</strong> {{ offer.amount }} kr.</p>
              <p class="mb-1">
                <strong>Status:</strong>
                <span class="badge
                  {% if offer.status == 'accepted' %} bg-success
                  {% elif offer.status == 'declined' %} bg-danger
                  {% elif offer.status == 'contingent' %} bg-warning text-dark
                  {% else %} bg-secondary
                  {% endif %}">
                  {{ offer.get_status_display }}
                </span>
              </p>
              <p class="mb-1"><strong>Expires:</strong> {{ offer.expiration_date }}</p>
              <p class="mb-2"><strong>Submitted:</strong> {{ offer.offer_date|date:"Y-m-d H:i" }}</p>
              {% if offer.message %}
                <div class="alert alert-info p-2">
                  <strong>Message:</strong> {{ offer.message }}
                </div>
              {% endif %}
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <div class="alert alert-warning text-center">
      <strong>No offers found.</strong> Make your first offer today!
    </div>
  {% endif %}
</div>
{% endblock %}